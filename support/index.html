<!DOCTYPE html>
<html>
<title>Dev</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
<style>
  body {
    background-color: #1f1f24;
  }
</style>

<body>
  <div id="container"></div>
  <script src="/build/lock.js"></script>
  <script>
    const cid = "x0fakD0QMa0wIRQpwYNtLxvl6tz2EDz7";
    const domain = "brucke.auth0.com";
    const options = {
      oidcConformant: true,
      allowShowPassword: true,
      usernameStyle: 'email',
      defaultDatabaseConnection: 'acme',
      prefill: {
        email: 'johnfoo@gmail.com'
      },
      auth: {
        responseType: 'token id_token',
        params: {
          scope: 'openid email'
        }
      },
      overrides: {
        __useCrossAuth: true
      }
    };

    const lock = new Auth0Lock(cid, domain, options);
    window.lock = lock;

    lock.on("authenticated", function (authResult) {
      console.log(authResult);

      if (!authResult.accessToken) return;

      lock.getUserInfo(authResult.accessToken, function (error, profile) {
        console.log(error, profile);
      });
    });

    lock.on("authorization_error", function (error) {
      console.log('authorization_error', error);
    });

    lock.show();
  </script>
</body>

</html>